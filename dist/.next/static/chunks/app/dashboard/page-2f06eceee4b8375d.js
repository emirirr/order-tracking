(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[105],{35695:(e,s,t)=>{"use strict";var r=t(18999);t.o(r,"useParams")&&t.d(s,{useParams:function(){return r.useParams}}),t.o(r,"useRouter")&&t.d(s,{useRouter:function(){return r.useRouter}})},44879:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>n});var r=t(95155),a=t(12115),l=t(35695),i=t(59576);function n(){let{user:e,loading:s}=(0,i.A)(),[t,n]=(0,a.useState)([]),[c,d]=(0,a.useState)(!0),o=(0,l.useRouter)();(0,a.useEffect)(()=>{!s&&e&&m()},[s,e]);let m=async()=>{try{console.log("Fetching orders...");let e=await fetch("/api/orders");console.log("Response status:",e.status);let s=await e.json();console.log("Orders data:",s),n(s),d(!1)}catch(e){console.error("Siparişler alınamadı:",e),d(!1)}},u=e=>{switch(e){case"PENDING":return"bg-yellow-500";case"CONFIRMED":return"bg-blue-500";case"IN_PRODUCTION":return"bg-purple-500";case"READY_FOR_DELIVERY":return"bg-green-500";case"OUT_FOR_DELIVERY":return"bg-indigo-500";case"DELIVERED":default:return"bg-gray-500";case"CANCELLED":return"bg-red-500"}};if(s||c)return(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-gray-800 text-white flex items-center justify-center",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})});if(!e)return(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-gray-800 text-white flex items-center justify-center",children:(0,r.jsx)("div",{className:"text-red-500",children:"Giriş yapmalısınız."})});let x=null;return x="ADMIN"===e.role?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold",children:"T\xfcm Siparişler"}),(0,r.jsx)("button",{onClick:()=>o.push("/orders/new"),className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",children:"Yeni Sipariş"})]}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(e=>(0,r.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 hover:bg-gray-700 transition duration-300 cursor-pointer",onClick:()=>o.push("/orders/".concat(e.id)),children:[(0,r.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-xl font-bold",children:e.orderNumber}),(0,r.jsx)("p",{className:"text-gray-400",children:e.customer.name})]}),(0,r.jsx)("span",{className:"px-3 py-1 rounded-full text-sm ".concat(u(e.status)),children:e.status})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("p",{className:"text-gray-400",children:["Teslimat: ",new Date(e.deliveryDate).toLocaleDateString("tr-TR")]}),(0,r.jsxs)("p",{className:"text-gray-400",children:["Toplam: ",e.totalAmount.toLocaleString("tr-TR")," TL"]}),(0,r.jsxs)("div",{className:"border-t border-gray-700 pt-2",children:[(0,r.jsx)("p",{className:"text-sm text-gray-400",children:"\xdcr\xfcnler:"}),(0,r.jsx)("ul",{className:"mt-1",children:e.items.map((e,s)=>(0,r.jsxs)("li",{className:"text-sm",children:[e.product.name," x ",e.quantity]},s))})]})]})]},e.id))})]}):"PRODUCTION_MANAGER"===e.role?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold mb-8",children:"\xdcretim Paneli"}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.filter(e=>"IN_PRODUCTION"===e.status||"PENDING"===e.status||"CONFIRMED"===e.status).map(e=>(0,r.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 hover:bg-gray-700 transition duration-300 cursor-pointer",onClick:()=>o.push("/orders/".concat(e.id)),children:[(0,r.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-xl font-bold",children:e.orderNumber}),(0,r.jsx)("p",{className:"text-gray-400",children:e.customer.name})]}),(0,r.jsx)("span",{className:"px-3 py-1 rounded-full text-sm ".concat(u(e.status)),children:e.status})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("p",{className:"text-gray-400",children:["Teslimat: ",new Date(e.deliveryDate).toLocaleDateString("tr-TR")]}),(0,r.jsxs)("p",{className:"text-gray-400",children:["Toplam: ",e.totalAmount.toLocaleString("tr-TR")," TL"]}),(0,r.jsxs)("div",{className:"border-t border-gray-700 pt-2",children:[(0,r.jsx)("p",{className:"text-sm text-gray-400",children:"\xdcr\xfcnler:"}),(0,r.jsx)("ul",{className:"mt-1",children:e.items.map((e,s)=>(0,r.jsxs)("li",{className:"text-sm",children:[e.product.name," x ",e.quantity]},s))})]})]})]},e.id))})]}):"DELIVERY_DRIVER"===e.role?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold mb-8",children:"Teslimat Paneli"}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.filter(e=>"READY_FOR_DELIVERY"===e.status||"OUT_FOR_DELIVERY"===e.status).map(e=>(0,r.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 hover:bg-gray-700 transition duration-300 cursor-pointer",onClick:()=>o.push("/orders/".concat(e.id)),children:[(0,r.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-xl font-bold",children:e.orderNumber}),(0,r.jsx)("p",{className:"text-gray-400",children:e.customer.name})]}),(0,r.jsx)("span",{className:"px-3 py-1 rounded-full text-sm ".concat(u(e.status)),children:e.status})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("p",{className:"text-gray-400",children:["Teslimat: ",new Date(e.deliveryDate).toLocaleDateString("tr-TR")]}),(0,r.jsxs)("p",{className:"text-gray-400",children:["Toplam: ",e.totalAmount.toLocaleString("tr-TR")," TL"]}),(0,r.jsxs)("div",{className:"border-t border-gray-700 pt-2",children:[(0,r.jsx)("p",{className:"text-sm text-gray-400",children:"\xdcr\xfcnler:"}),(0,r.jsx)("ul",{className:"mt-1",children:e.items.map((e,s)=>(0,r.jsxs)("li",{className:"text-sm",children:[e.product.name," x ",e.quantity]},s))})]})]})]},e.id))})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold mb-8",children:"Siparişlerim"}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.filter(s=>{var t;return(null==(t=s.customer)?void 0:t.name)===e.name}).map(e=>(0,r.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 hover:bg-gray-700 transition duration-300 cursor-pointer",onClick:()=>o.push("/orders/".concat(e.id)),children:[(0,r.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,r.jsx)("div",{children:(0,r.jsx)("h2",{className:"text-xl font-bold",children:e.orderNumber})}),(0,r.jsx)("span",{className:"px-3 py-1 rounded-full text-sm ".concat(u(e.status)),children:e.status})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("p",{className:"text-gray-400",children:["Teslimat: ",new Date(e.deliveryDate).toLocaleDateString("tr-TR")]}),(0,r.jsxs)("p",{className:"text-gray-400",children:["Toplam: ",e.totalAmount.toLocaleString("tr-TR")," TL"]}),(0,r.jsxs)("div",{className:"border-t border-gray-700 pt-2",children:[(0,r.jsx)("p",{className:"text-sm text-gray-400",children:"\xdcr\xfcnler:"}),(0,r.jsx)("ul",{className:"mt-1",children:e.items.map((e,s)=>(0,r.jsxs)("li",{className:"text-sm",children:[e.product.name," x ",e.quantity]},s))})]})]})]},e.id))})]}),(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-gray-800 text-white",children:(0,r.jsx)("div",{className:"container mx-auto px-4 py-8",children:x})})}},48104:(e,s,t)=>{Promise.resolve().then(t.bind(t,44879))},56104:(e,s,t)=>{"use strict";let r;t.d(s,{db:()=>d,j2:()=>o,zS:()=>r});var a=t(23915),l=t(86864),i=t(35317),n=t(16203);let c=(0,a.Dk)().length?(0,a.Sx)():(0,a.Wp)({apiKey:"AIzaSyAJVw7940Ayc0lposv8dNNVnu5xvUqeNDs",authDomain:"kuta-f02d2.firebaseapp.com",projectId:"kuta-f02d2",storageBucket:"kuta-f02d2.appspot.com",messagingSenderId:"1065370220535",appId:"1:1065370220535:web:487336f7220d083a0720f2",measurementId:"G-2TZXB8XSJP"});(0,l.TT)().then(e=>{e&&(r=(0,l.P5)(c))});let d=(0,i.aU)(c),o=(0,n.xI)(c)},59576:(e,s,t)=>{"use strict";t.d(s,{A:()=>o,AuthProvider:()=>d});var r=t(95155),a=t(12115),l=t(16203),i=t(56104),n=t(35317);let c=(0,a.createContext)({user:null,loading:!0});function d(e){let{children:s}=e,[t,d]=(0,a.useState)(null),[o,m]=(0,a.useState)(!0);return(0,a.useEffect)(()=>{let e=(0,l.hg)(i.j2,async e=>{if(e){let s=(0,n.P)((0,n.rJ)(i.db,"users"),(0,n._M)("uid","==",e.uid)),t=await (0,n.GG)(s),r=null;t.forEach(s=>{r={uid:e.uid,name:s.data().name,email:s.data().email,role:s.data().role}}),d(r)}else d(null);m(!1)});return()=>e()},[]),(0,r.jsx)(c.Provider,{value:{user:t,loading:o},children:s})}function o(){return(0,a.useContext)(c)}}},e=>{var s=s=>e(e.s=s);e.O(0,[992,163,566,441,684,358],()=>s(48104)),_N_E=e.O()}]);